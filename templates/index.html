{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>{% block title %}Index{% endblock %}</title>
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
    />
    <!-- Bootstrap core CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Material Design Bootstrap -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.8.10/css/mdb.min.css"
      rel="stylesheet"
    />
    <!-- Custom Stylesheet -->
    <link href="index.css" rel="stylesheet" />
  </head>

  <body>
    {% block content %}
    <!--Navbar-->
    <nav class="navbar navbar-expand-lg navbar-light ">
      <!-- Navbar brand -->
      <a class="navbar-brand" href="#">Django News App</a>

      <!-- Collapse button -->
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#basicExampleNav"
        aria-controls="basicExampleNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Collapsible content -->
      <div class="collapse navbar-collapse" id="basicExampleNav">
        <!-- Links -->
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="#search">Search </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#about">About</a>
          </li>
        </ul>
        <!-- Links -->
      </div>
      <!-- Collapsible content -->
    </nav>
    <!--/.Navbar-->

    {% if error == True %}
    <div class="container-fluid" style="margin-top:1rem" id="error">
      <div class="row">
        <div class="col-md-6" style="margin:0 auto;">
          <div
            class="alert alert-danger alert-dismissible fade show"
            role="alert"
          >
            <strong>No Such News Available</strong>
            <button
              type="button"
              class="close"
              data-dismiss="alert"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        </div>
      </div>
    </div>
    {% endif %}

    <div class="container-fluid" style="margin-top: 1rem;" id="search">
      <div class="row">
        <div class="col-md-6" style="margin: 0 auto;">
          <h1
            class="h1-responsive"
            style="display:block;margin:0 auto;text-align:center;margin:1rem;"
          >
            Search News
          </h1>
          <img src="{% static "img1.jpg" %}" class="img-fluid">
          <!-- Default form contact -->
          <form
            class="text-center border border-light p-5"
            action="{% url 'search' %}"
            method="GET"
            autocomplete="off"
          >
            <!-- Search -->
            <input
              type="text"
              id="keyword"
              name="keyword"
              class="form-control mb-4"
              placeholder="Search here"
            />
            <!-- Send button -->
            <button class="btn btn-info btn-block" type="submit">Search</button>
          </form>
        </div>
      </div>
    </div>

    {% if result == True %}
    <div class="container-fluid" style="margin-top: 1rem;" id="result">
      <h1 style="text-align: center;margin: 0 auto;display: block;">
        Search Result For {{keyword}}
      </h1>
      <hr />
      <div class="row">
        {% for article in articles %}
        <div class="col-md-3">
          <!-- Card -->
          <div class="card" style="margin-top:1rem;">
            <!-- Card image -->
            <img
              class="card-img"
              src="{{article.urlToImage}}"
              alt="Card image cap"
              style="height: 300px;"
            />

            <!-- Card content -->
            <div class="card-body" style="height: 25rem;">
              <!-- Title -->
              <h4 class="card-title">{{article.title}}</h4>
              <!-- Text -->
              <p class="card-text">{{article.content}}</p>
              <!-- Button -->
              <a href="{{article.url}}" class="btn btn-primary">Read More</a>
            </div>
          </div>
          <!-- Card -->
        </div>
        {% endfor %}
      </div>
    </div>
    {% endif %}

    <div class="container-fluid" style="margin-top: 1rem;" id="about">
      <div class="row">
        <div class="col-md-6" style="margin:0 auto;">
          <h1 class="h1-responsive" style="margin:0 auto;text-align: center;">
            About
          </h1>
          <hr />
          <p class="lead" style="margin:0 auto;text-align: center;">
            This Django News App Helps To Fetch News.
          </p>
        </div>
      </div>
    </div>
    <!-- Footer -->
    <div class="row" style="margin-top: 1rem;">
      <div class="col-md-6" style="margin: 0 auto;">
        <a
          href="https://github.com/IshjotSingh97"
          style="margin: 0 auto;display: block;text-align: center;"
          ><i class="fab fa-github"></i> Github Profile</a
        >
        <br />
        <a
          href="https://mdbootstrap.com/"
          style="margin: 0 auto;display: block;text-align: center;"
          >MD Bootstrap</a
        >
        <br />
        <a
          href="https://newsapi.org/"
          style="margin: 0 auto;display: block;text-align: center;"
          >News API</a
        >
        <br />
        <a
          href="https://www.freepik.com/free-photos-vectors/business"
          style="margin: 0 auto;display: block;text-align: center;"
          >Business vector created by pikisuperstar - www.freepik.com</a
        >
      </div>
    </div>
    {% endblock %}
    <!-- Footer -->
    <!-- JQuery -->
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"
    ></script>
    <!-- Bootstrap tooltips -->
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"
    ></script>
    <!-- Bootstrap core JavaScript -->
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"
    ></script>
    <!-- MDB core JavaScript -->
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.8.10/js/mdb.min.js"
    ></script>
  </body>
</html>
